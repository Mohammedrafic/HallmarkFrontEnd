<app-widget-wrapper [title]="chartData?.title ?? ''" [isLoading]="isLoading">
  <ng-template #chart>
    <ejs-accumulationchart
      #sfComponent
      [enableAnimation]="false"
      [id]="chartData?.id"
      [legendSettings]="legendSettings"
      [tooltip]="tooltipSettings"
      class="app-accumulation-chart__component"
    >
      <e-accumulation-series-collection>
        <e-accumulation-series
          [dataSource]="filteredChartData$ | async"
          pointColorMapping="color"
          innerRadius="70%"
          radius="80%"
          xName="label"
          yName="value"
        >
        </e-accumulation-series>
      </e-accumulation-series-collection>
    </ejs-accumulationchart>
  </ng-template>

  <ng-template #legend>
    <div
      *ngFor="let legend of chartData?.chartData; trackBy: trackByHandler; let idx = index"
      class="widget-legend__item"
    >
      <div class="widget-legend__item-content">
        <ejs-checkbox [checked]="true" [cssClass]="'e-custom'" (change)="onClickLegend(legend.label)"></ejs-checkbox>
        <div [ngStyle]="{ backgroundColor: legend.color }" class="widget-legend__point"></div>
        <div class="widget-legend__legend-text">{{ legend.label }}</div>
      </div>
      <div class="app-accumulation-chart__legend-score">{{ legend.value }}</div>
    </div>
  </ng-template>
</app-widget-wrapper>
