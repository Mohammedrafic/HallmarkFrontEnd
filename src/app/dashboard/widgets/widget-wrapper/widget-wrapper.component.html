<div class="app-widget-wrapper" [ngClass]="{ 'with-legend': legend }">
  <div class="app-widget-wrapper__content">
    <h3 *ngIf="title" class="app-widget-wrapper__title">{{ title }}</h3>
    <ng-container [ngTemplateOutlet]="isLoading ? loadingTemplate : regularWidgetTemplate"></ng-container>
  </div>
</div>

<ng-template #loadingTemplate>
  <app-inline-loader class="app-widget-wrapper__loader"></app-inline-loader>
</ng-template>

<ng-template #regularWidgetTemplate>

    
  <div class="app-widget-wrapper__projection-wrapper">
    <div *ngIf="header" class="app-widget-wrapper__header">
      <ng-container [ngTemplateOutlet]="header"></ng-container>
    </div>
    <div *ngIf="chart" class="app-widget-wrapper__chart">
      <ng-container [ngTemplateOutlet]="chart"></ng-container>
    </div>
    <div *ngIf="lineChart" class="app-widget-wrapper__line-chart">
      <ng-container [ngTemplateOutlet]="lineChart"></ng-container>
    </div>
    <div *ngIf="mapChart" class="app-widget-wrapper__map-chart">
      <ng-container [ngTemplateOutlet]="mapChart"></ng-container>
    </div>
    <div *ngIf="positionChart" class="app-widget-wrapper__position-chart">
      <ng-container [ngTemplateOutlet]="positionChart"></ng-container>
    </div>
    <div *ngIf="legend" [ngClass]="{'app-widget-wrapper__legend': true, 'line-chart-legend': lineChart, 'map-chart-legend': mapChart}">
      <ng-container [ngTemplateOutlet]="legend"></ng-container>
    </div>
  </div> 
</ng-template>
