<div class="quick-order-form-container">
  <div class="row bootstrap">
    <form *ngIf="userIsAdmin" [formGroup]="organizationForm" class="form-line-item-40">
      <div class="input-container">
        <label>Organization<span class="required">*</span></label>
        <div class="input-group dropdown">
          <ejs-dropdownlist
            formControlName="organization"
            appValidateWithMessage
            [dataSource]="allOrganizations"
            [fields]="organizationTypeFields"
            (select)="onOrganizationDropDownSelected($event)"
          >
          </ejs-dropdownlist>
        </div>
      </div>
    </form>
    <form [formGroup]="orderTypeForm" class="order-type-status-form">
      <div class="input-container order-type-container form-line-item-40">
        <label>Order Type<span class="required">*</span></label>
        <div class="input-group dropdown">
          <ejs-dropdownlist
            formControlName="orderType"
            appValidateWithMessage
            [dataSource]="orderTypes"
            [fields]="orderTypeFields"
          >
          </ejs-dropdownlist>
        </div>
      </div>

      <div class="input-container order-status">
        <label>Status</label>
        <div class="input-group">
          <input class="e-input" type="text" [value]="orderStatus" [disabled]="true" />
        </div>
      </div>
    </form>
  </div>

  <section class="quick-order-form">
    <div class="general-information">
      <h3 class="title">General Information</h3>
      <div class="general-information-form-container">
        <form [formGroup]="generalInformationForm">
          <div class="row">
            <!-- Job Title -->
            <div class="input-container bootstrap form-line-item-20">
              <label>Job Title<span class="required">*</span></label>
              <div class="input-group dropdown">
                <div class="input-group">
                  <input class="e-input" type="text" appValidateWithMessage formControlName="title" maxlength="50" />
                </div>
              </div>
            </div>

            <!-- Region -->
            <div class="input-container bootstrap form-line-item-20">
              <label>Region<span class="required">*</span></label>
              <div class="input-group dropdown">
                <ejs-dropdownlist
                  formControlName="regionId"
                  appValidateWithMessage
                  [enabled]="isRegionsDropDownEnabled"
                  [dataSource]="regionDataSource"
                  [fields]="regionFields"
                  (select)="onRegionDropDownSelected($event)"
                >
                </ejs-dropdownlist>
              </div>
            </div>

            <!-- Location -->
            <div class="input-container bootstrap form-line-item-20">
              <label>Location<span class="required">*</span></label>
              <div class="input-group dropdown">
                <ejs-dropdownlist
                  formControlName="locationId"
                  appValidateWithMessage
                  [enabled]="isLocationsDropDownEnabled"
                  [dataSource]="locationDataSource"
                  [fields]="locationFields"
                  (select)="onLocationDropDownSelected($event)"
                >
                </ejs-dropdownlist>
              </div>
            </div>

            <!-- Department -->
            <div class="input-container bootstrap form-line-item-20">
              <label>Department<span class="required">*</span></label>
              <div class="input-group dropdown">
                <ejs-dropdownlist
                  formControlName="departmentId"
                  appValidateWithMessage
                  [enabled]="isDepartmentsDropDownEnabled"
                  [dataSource]="departmentDataSource"
                  [fields]="departmentFields"
                  (select)="onDepartmentDropDownSelected($event)"
                >
                </ejs-dropdownlist>
              </div>
            </div>

            <!-- Skill -->
            <div class="input-container bootstrap form-line-item-20">
              <label>Skill<span class="required">*</span></label>
              <div class="input-group dropdown">
                <ejs-dropdownlist
                  formControlName="skillId"
                  appValidateWithMessage
                  [dataSource]="skillDataSource"
                  [fields]="skillFields"
                >
                </ejs-dropdownlist>
              </div>
            </div>
          </div>

          <div class="row">
            <!-- Hourly Rate -->
            <div *ngIf="isTravelerOrder || isContactToPermOrder" class="input-container bootstrap form-line-item-20">
              <label>Hourly rate ($)<span class="required">*</span></label>
              <div class="input-group dropdown">
                <div class="input-group">
                  <input
                    class="e-input"
                    type="text"
                    appValidateWithMessage
                    formControlName="hourlyRate"
                    maxlength="50"
                  />
                </div>
              </div>
            </div>

            <!-- of Position -->
            <div class="input-container bootstrap form-line-item-20">
              <label># Open Positions<span class="required">*</span></label>
              <div class="input-group dropdown">
                <div class="input-group">
                  <input
                    class="e-input"
                    type="text"
                    appValidateWithMessage
                    formControlName="openPositions"
                    maxlength="50"
                  />
                </div>
              </div>
            </div>

            <div *ngIf="isTravelerOrder || isContactToPermOrder" class="input-container bootstrap form-line-item-20">
              <label>Duration<span class="required">*</span></label>
              <div class="input-group dropdown">
                <ejs-dropdownlist
                  formControlName="duration"
                  appValidateWithMessage
                  [dataSource]="durations"
                  [fields]="durationFields"
                >
                </ejs-dropdownlist>
              </div>
            </div>

            <!-- Job Start Date -->
            <div class="datepicker-container form-line-item-20">
              <label>Job Start Date<span class="required">*</span></label>
              <div class="input-group datepicker bootstrap">
                <ejs-datepicker
                  class="datepicker"
                  format="MM/dd/yyyy"
                  placeholder="MM/DD/YYYY"
                  formControlName="jobStartDate"
                  appValidateWithMessage
                  [enableMask]="true"
                  [maskPlaceholder]="{ month: 'MM', day: 'DD', year: 'YYYY' }"
                  [min]="today"
                >
                </ejs-datepicker>
              </div>
            </div>

            <!-- Job End Date -->
            <div *ngIf="isTravelerOrder || isContactToPermOrder" class="datepicker-container form-line-item-20">
              <label>Job End Date<span class="required">*</span></label>
              <div class="input-group datepicker bootstrap">
                <ejs-datepicker
                  class="datepicker"
                  format="MM/dd/yyyy"
                  placeholder="MM/DD/YYYY"
                  formControlName="jobEndDate"
                  appValidateWithMessage
                  [enableMask]="true"
                  [maskPlaceholder]="{ month: 'MM', day: 'DD', year: 'YYYY' }"
                  [enabled]="isJobEndDateControlEnabled"
                  [enableMask]="true"
                  [maskPlaceholder]="{ month: 'MM', day: 'DD', year: 'YYYY' }"
                  [min]="generalInformationForm.controls['jobStartDate'].value"
                >
                </ejs-datepicker>
              </div>
            </div>

            <!-- Order Placement Fee (%) -->
            <div *ngIf="isPermPlacementOrder" class="input-container bootstrap form-line-item-20">
              <label>Order Placement Fee (%)<span class="required">*</span></label>
              <div class="input-group">
                <ejs-numerictextbox
                  class="e-input"
                  formControlName="orderPlacementFee"
                  format="###.00'%'"
                  max="100"
                  min="0"
                  appValidateWithMessage
                  [decimals]="2"
                  [showSpinButton]="false"
                  [validateDecimalOnType]="true"
                  [htmlAttributes]="{ maxLength: '6' }"
                ></ejs-numerictextbox>
              </div>
            </div>

            <!-- Annual Salary Range From -->
            <div *ngIf="isPermPlacementOrder" class="input-container bootstrap form-line-item-20">
              <label>Annual Salary Range From<span class="required">*</span></label>
              <div class="input-group">
                <input
                  class="e-input"
                  formControlName="annualSalaryRangeFrom"
                  maxlength="10"
                  appValidateWithMessage
                  type="text"
                  (focus)="priceUtils.setPriceMask(generalInformationForm, 'annualSalaryRangeFrom', $event)"
                  (blur)="priceUtils.setTwoDecimals(generalInformationForm, 'annualSalaryRangeFrom', $event)"
                />
              </div>
            </div>

            <!-- Annual Salary Range To -->
            <div *ngIf="isPermPlacementOrder" class="input-container bootstrap form-line-item-20">
              <label>Annual Salary Range To<span class="required">*</span></label>
              <div class="input-group">
                <input
                  class="e-input"
                  formControlName="annualSalaryRangeTo"
                  maxlength="10"
                  appValidateWithMessage
                  type="text"
                  (focus)="priceUtils.setPriceMask(generalInformationForm, 'annualSalaryRangeTo', $event)"
                  (blur)="priceUtils.setTwoDecimals(generalInformationForm, 'annualSalaryRangeTo', $event)"
                />
              </div>
            </div>
          </div>

          <div class="row" *ngIf="true">
            <!-- Shift Requirements -->
            <div class="input-container bootstrap form-line-item-20">
              <label>Shift Name<span class="required">*</span></label>
              <div class="input-group dropdown">
                <ejs-dropdownlist
                  formControlName="shift"
                  appValidateWithMessage
                  [dataSource]="masterShiftNames"
                  [fields]="masterShiftFields"
                >
                </ejs-dropdownlist>
              </div>
            </div>

            <!-- Shift Start Time -->
            <div class="input-container calendar form-line-item-20">
              <label for="startTime">Shift Start Time<span class="required">*</span></label>
              <div class="input-group datepicker bootstrap">
                <ejs-timepicker
                  placeholder="HH:MM"
                  formControlName="shiftStartTime"
                  appValidateWithMessage
                  format="hh:mm a"
                  [maskPlaceholder]="{ hour: 'HH', minute: 'MM' }"
                  [enableMask]="true"
                  maskPlaceholder="HH:MM"
                >
                </ejs-timepicker>
              </div>
            </div>

            <!-- Shift End Time -->
            <div class="input-container calendar form-line-item-20">
              <label for="startTime">Shift End Time<span class="required">*</span></label>
              <div class="input-group datepicker bootstrap">
                <ejs-timepicker
                  placeholder="HH:MM"
                  formControlName="shiftEndTime"
                  appValidateWithMessage
                  format="hh:mm a"
                  [maskPlaceholder]="{ hour: 'HH', minute: 'MM' }"
                  [enableMask]="true"
                  maskPlaceholder="HH:MM"
                >
                </ejs-timepicker>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>

    <div class="job-distibution">
      <div class="title">Job Distribution & Description</div>
      <form [formGroup]="jobDistributionDescriptionForm">
        <div class="job-description-form">
          <div class="form-line-item-60">
            <div class="row">
              <!-- Job Distribution -->
              <div class="input-container bootstrap form-line-item-50">
                <label>Job Distribution<span class="required">*</span></label>
                <div class="input-group dropdown">
                  <ejs-multiselect
                    #multiselect
                    mode="CheckBox"
                    formControlName="jobDistribution"
                    appValidateWithMessage
                    [dataSource]="jobDistributions"
                    [fields]="jobDistributionFields"
                    [allowFiltering]="false"
                    [showDropDownIcon]="true"
                  >
                  </ejs-multiselect>
                </div>
              </div>

              <!-- Agency -->
              <div class="input-container bootstrap form-line-item-50">
                <label>
                  Agency
                  <span *ngIf="agencyControlEnabled" class="required">*</span>
                </label>
                <div class="input-group dropdown">
                  <ejs-multiselect
                    mode="CheckBox"
                    formControlName="agency"
                    appValidateWithMessage
                    [enabled]="agencyControlEnabled"
                    [dataSource]="associateAgencies$ | async"
                    [fields]="associateAgencyFields"
                    [showSelectAll]="true"
                    [allowFiltering]="false"
                    [showDropDownIcon]="true"
                  >
                  </ejs-multiselect>
                </div>
              </div>
            </div>

            <div class="row">
              <!-- Reason of Requisition -->
              <div class="input-container bootstrap form-line-item-50">
                <label>Reason for Requisition<span class="required">*</span></label>
                <div class="input-group dropdown">
                  <ejs-dropdownlist
                    formControlName="reasonForRequisition"
                    appValidateWithMessage
                    [dataSource]="reasonsForRequisition"
                    [fields]="reasonForRequisitionFields"
                  >
                  </ejs-dropdownlist>
                </div>
              </div>
            </div>
          </div>

          <!-- Job Description -->
          <div class="input-container bootstrap job-description form-line-item-40">
            <label for="comments">Job Description</label>
            <div class="input-group">
              <ejs-textbox
                class="e-input"
                type="text"
                [multiline]="true"
                appValidateWithMessage
                maxlength="500"
                formControlName="jobDescription"
                cssClass="text-area"
              >
              </ejs-textbox>
            </div>
          </div>
        </div>
      </form>
    </div>

    <div class="contact-details">
      <div class="title">Contact Details</div>
      <div class="contact-details-form-container">
        <form [formGroup]="contactDetailsForm">
          <div class="row">
            <div class="contact-details-title-container form-line-item-35">
              <div *ngIf="!isEditContactTitle" class="input-container bootstrap">
                <label>Title<span class="required">*</span></label>
                <div class="input-group dropdown">
                  <ejs-dropdownlist [dataSource]="contactDetailTitles" appValidateWithMessage formControlName="title">
                  </ejs-dropdownlist>
                </div>
              </div>

              <div *ngIf="isEditContactTitle" class="input-container bootstrap">
                <label>Title<span class="required">*</span></label>
                <div class="input-group">
                  <input class="e-input" type="text" appValidateWithMessage formControlName="title" />
                </div>
              </div>
            </div>

            <div class="input-container edit-button-container">
              <button
                ejs-button
                type="button"
                cssClass="e-outline"
                class="icon-button"
                (click)="isEditContactTitle = !isEditContactTitle"
              >
                <i-feather name="edit3" class="icon"></i-feather>
              </button>
            </div>

            <!-- Contact Person -->
            <div class="input-container bootstrap form-line-item-30">
              <label>Contact Person<span class="required">*</span></label>
              <div class="input-group">
                <input class="e-input" type="text" appValidateWithMessage maxLength="50" formControlName="name" />
              </div>
            </div>

            <!-- Email -->
            <div class="input-container bootstrap form-line-item-30">
              <label>Email<span class="required">*</span></label>
              <div class="input-group">
                <input class="e-input" type="email" appValidateWithMessage formControlName="email" />
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>

    <div class="special-project">
      <div class="title">Special Project</div>
      <form [formGroup]="specialProjectForm">
        <div class="row">
          <!-- Special Project Category -->
          <div class="input-container bootstrap form-line-item-40">
            <label>Special Project Category<span *ngIf="isSpecialProjectFieldsRequired" class="required">*</span></label>
            <div class="input-group dropdown">
              <ejs-dropdownlist
                formControlName="projectTypeId"
                appValidateWithMessage
                [dataSource]="(projectSpecialData$ | async)?.specialProjectCategories"
                [fields]="specialProjectCategoriesFields"
              >
              </ejs-dropdownlist>
            </div>
          </div>
          <!-- Project Name -->
          <div class="input-container bootstrap form-line-item-30">
            <label>Project Name<span *ngIf="isSpecialProjectFieldsRequired" class="required">*</span></label>
            <div class="input-group dropdown">
              <ejs-dropdownlist
                formControlName="projectNameId"
                appValidateWithMessage
                [dataSource]="(projectSpecialData$ | async)?.projectNames"
                [fields]="projectNameFields"
              >
              </ejs-dropdownlist>
            </div>
          </div>
          <!-- PO# -->
          <div class="input-container bootstrap form-line-item-30">
            <label>PO#<span *ngIf="isSpecialProjectFieldsRequired" class="required">*</span></label>
            <div class="input-group dropdown">
              <ejs-dropdownlist
                formControlName="poNumberId"
                appValidateWithMessage
                [dataSource]="(projectSpecialData$ | async)?.poNumbers"
                [fields]="poNumberFields"
              >
              </ejs-dropdownlist>
            </div>
          </div>
        </div>
      </form>
    </div>
  </section>
</div>

