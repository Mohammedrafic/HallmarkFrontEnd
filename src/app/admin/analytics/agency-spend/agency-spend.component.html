<section class="flex-column">
  <section class="toolbar">
    <section class="toolbar-header">
      <div class="toolbar-header-div">
        {{ title }}
      </div>
    </section>
    <section class="toolbar-message">
      <div class="toolbar-message-div">
        {{ message }}
      </div>
    </section>
    <section class="toolbar-buttons">
      <button ejs-button id="filterButton" (click)="showFilters()" cssClass="e-outline button-filter">
        <div class="filter-button-content">Filters <i-feather name="sliders" class="icon"></i-feather></div>
      </button>
    </section>
  </section>
</section>
<section class="agency-spend-report-section">
  <app-logi-report
    [paramsData]="paramsData"
    [reportName]="reportName"
    [catelogName]="catelogName"
    [reportType]="reportType"
  ></app-logi-report>
  <router-outlet></router-outlet>
</section>

<app-filter-dialog
  [items]="filteredItems"
  (deleteFilter)="onFilterDelete($event)"
  (clearAllFiltersClicked)="onFilterClearAll()"
  (applyFilterClicked)="onFilterApply()"
>
  <form [formGroup]="agentSpendReportForm" class="filter-form-dialog form-container bootstrap">
    <div class="form-elemet">
      <div class="input-container bootstrap">
        <label>Organization Name<span class="required">*</span></label>
        <div class="input-group dropdown">
          <ejs-dropdownlist
            appValidateWithMessage
            formControlName="businessIds"
            [fields]="organizationFields"
            [dataSource]="filterColumns.businessIds.dataSource"
            [allowFiltering]="true"
            placeholder="Business"
          >
          </ejs-dropdownlist>
        </div>
      </div>
    </div>
    <div class="form-elemet">
      <div class="input-container bootstrap">
        <label>Region</label>
        <div class="input-group dropdown">
          <ejs-multiselect
            mode="CheckBox"
            formControlName="regionIds"
            appValidateWithMessage
            [placeholder]="allOption"
            [allowFiltering]="true"
            [showDropDownIcon]="true"
            [dataSource]="filterColumns.regionIds.dataSource"
            [fields]="commonFields"
          >
          </ejs-multiselect>
        </div>
      </div>
    </div>
    <div class="form-elemet">
      <div class="input-container bootstrap">
        <label>Location</label>
        <div class="input-group dropdown">
          <ejs-multiselect
            mode="CheckBox"
            formControlName="locationIds"
            appValidateWithMessage
            [placeholder]="allOption"
            [allowFiltering]="true"
            [showDropDownIcon]="true"
            [dataSource]="filterColumns.locationIds.dataSource"
            [fields]="commonFields"
          >
          </ejs-multiselect>
        </div>
      </div>
    </div>
    <div class="form-elemet">
      <div class="input-container bootstrap">
        <label>Department</label>
        <div class="input-group dropdown">
          <ejs-multiselect
            mode="CheckBox"
            formControlName="departmentIds"
            appValidateWithMessage
            [placeholder]="allOption"
            [allowFiltering]="true"
            [showDropDownIcon]="true"
            [dataSource]="filterColumns.departmentIds.dataSource"
            [fields]="commonFields"
          >
          </ejs-multiselect>
        </div>
      </div>
    </div>
    <div class="form-elemet">
      <div class="group">
        <div class="input-container bootstrap">
          <label>Skill</label>
          <div class="input-group dropdown">
            <ejs-multiselect
              mode="CheckBox"
              formControlName="skillIds"
              appValidateWithMessage
              placeholder="All"
              [allowFiltering]="true"
              [showDropDownIcon]="true"
              [dataSource]="filterColumns.skillIds.dataSource"
              [fields]="commonFields"
            >
            </ejs-multiselect>
          </div>
        </div>
      </div>
    </div>
    <div class="form-elemet">
      <div class="group">
        <div class="input-container calendar">
          <label>Start Month<span class="required">*</span></label>
          <div class="input-group datepicker">
            <ejs-dropdownlist
              formControlName="startMonth"
              placeholder="All"
              [allowFiltering]="true"
              [dataSource]="filterColumns.startMonth.dataSource"
              [fields]="commonFields"
            >
            </ejs-dropdownlist>
          </div>
          <div *ngIf="startMonthControl.invalid" class="alert alert-danger">
            <div *ngIf="startMonthControl.errors?.['required']">Select Start Month</div>
          </div>
        </div>
        <div class="input-container calendar">
          <label>Start Year<span class="required">*</span></label>
          <div class="input-group datepicker">
            <ejs-dropdownlist
              formControlName="startYear"
              placeholder="All"
              [allowFiltering]="true"
              [dataSource]="filterColumns.startYear.dataSource"
              [fields]="commonFields"
            >
            </ejs-dropdownlist>
          </div>
          <div *ngIf="startYearControl.invalid" class="alert alert-danger">
            <div *ngIf="startYearControl.errors?.['required']">Select Start Year</div>
          </div>
        </div>
      </div>
    </div>
    <div class="form-elemet">
      <div class="group">
        <div class="input-container calendar">
          <label>End Month<span class="required">*</span></label>
          <div class="input-group datepicker">
            <ejs-dropdownlist
              formControlName="endMonth"
              placeholder="All"
              [allowFiltering]="true"
              [dataSource]="filterColumns.endMonth.dataSource"
              [fields]="commonFields"
            >
            </ejs-dropdownlist>
          </div>
          <div *ngIf="endMonthControl.invalid" class="alert alert-danger">
            <div *ngIf="endMonthControl.errors?.['required']">Select End Month</div>
          </div>
        </div>
        <div class="input-container calendar">
          <label>End Year<span class="required">*</span></label>
          <div class="input-group datepicker">
            <ejs-dropdownlist
              formControlName="endYear"
              placeholder="All"
              [allowFiltering]="true"
              [dataSource]="filterColumns.endYear.dataSource"
              [fields]="commonFields"
            >
            </ejs-dropdownlist>
          </div>
          <div *ngIf="endYearControl.invalid" class="alert alert-danger">
            <div *ngIf="endYearControl.errors?.['required']">Select Start Year</div>
          </div>
        </div>
      </div>
    </div>
  </form>
</app-filter-dialog>

