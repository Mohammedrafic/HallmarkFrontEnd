<app-page-toolbar>
  <ng-container left>
    <app-tabs-list
      class="table-tabs irp"
      [tabConfig]="tabsListConfig"
      (changeTab)="changeTab($event)"
    >
    </app-tabs-list>
  </ng-container>
  <ng-container right>
    <button
      *ngIf="activeTabIndex === tabIndex.Scheduling"
      ejs-button
      appHideBeforeSyncfusionLoad
      cssClass="e-outline button-filter"
      (click)="showFilters()"
    >
      <div class="filter-button-content">
        <span *ngIf="appliedFiltersAmount" class="e-badge e-badge-success e-badge-pill align-text">
          {{ appliedFiltersAmount }}
        </span>
        <span class="filter-button-text">Filters</span> <i-feather name="sliders" class="icon"></i-feather>
      </div>
    </button>
    <app-tooltip-container
      *ngIf="activeTabIndex === tabIndex.Scheduling"
      [showToolTip]="!scheduleSelectedSlots?.dates?.length"
      message="Select at least one date to Schedule"
    >
      <button
        ejs-button
        appHideBeforeSyncfusionLoad
        cssClass="e-primary"
        [disabled]="!scheduleSelectedSlots?.dates?.length"
        (click)="openScheduleDialog()"
      >
        Schedule
      </button>
    </app-tooltip-container>
  </ng-container>
</app-page-toolbar>

<div class="content">
  <ng-container *ngIf="activeTabIndex === tabIndex.Scheduling">
    <app-schedule-grid
      [scheduleData]="scheduleData"
      (changeFilter)="changeFilters($event)"
      (loadMoreData)="loadMoreData($event)"
      (selectedCells)="selectCells($event)"
      (scheduleCell)="scheduleCell($event)"
      (selectCandidate)="selectCandidate($event)"
    ></app-schedule-grid>
  </ng-container>
  <ng-container *ngIf="activeTabIndex === tabIndex.Analytics">
  </ng-container>
</div>

<app-schedule-filters [count]="totalCount" (updateScheduleFilter)="updateScheduleFilter($event)"></app-schedule-filters>

<app-create-schedule
  *ngIf="createScheduleDialogOpen"
  [datePickerLimitations]="datePickerLimitations"
  [scheduleSelectedSlots]="scheduleSelectedSlots"
  [scheduleData]="scheduleData"
  (destroyDialog)="closeScheduleDialog()"
  (updateScheduleGrid)="updateScheduleGrid()"
></app-create-schedule>
