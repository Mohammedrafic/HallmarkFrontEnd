<section class="table-container">
  <div class="table-block">
    <div class="table-header">

      <div [ngClass]="{ 'first-tab': isFirstSelected}" class="tab-wrapper">
        <ejs-tab id="tab_default" #tabs (selected)="onTabSelect($event)">
          <e-tabitems>
            <e-tabitem *ngFor="let tab of tabsConfig; trackBy: trackByIndex">
              <ng-template #headerText >
                <div >{{ tab.title }}</div>
              </ng-template>
              <ng-template #content>
              </ng-template>
            </e-tabitem>
          </e-tabitems>
        </ejs-tab>
      </div>

      <ng-container *ngIf="isEditEnabled">
        <button
          *ngIf="currentTab !== tableTypes.Expenses"
          class="add-action spaced"
          cssClass="e-action-button"
          ejs-button
          (click)="openAddDialog()"
          [disabled]="actionsDisabled"
        >
          <i-feather name="plus" class="icon"></i-feather> Add Record
        </button>

        <ng-container *ngIf="recordsToShow?.[currentTab]?.[modeValues.Edit]?.length || isEditOn">
          <button
            *ngIf="!isEditOn; else editHandlers"
            [disabled]="actionsDisabled"
            (click)="editTimesheets()"
            ejs-button
            cssClass="e-action-button"
            class="add-action">
            <i-feather name="edit" class="icon"></i-feather>
            Edit
          </button>
        </ng-container>
      </ng-container>

      <ng-template #editHandlers>
        <div class="controls-wrapper">
          <button ejs-button cssClass="e-outline button-cancel" (click)="cancelChanges()">Cancel</button>
          <button (click)="saveChanges()" ejs-button [isPrimary]="true" [disabled]="actionsDisabled" class="spinner-btn">
            <div #spinner class="spinner-container" *ngIf="loading; else savetext"></div>
            <ng-template #savetext>
              <span>Save</span>
            </ng-template>
          </button>
        </div>
      </ng-template>

      <div *ngIf="currentTab !== tableTypes.Expenses" class="btn-group">
        <button
          *ngIf="isRejectBtnEnabled"
          ejs-button
          cssClass="e-outline privilege"
          (click)="onRejectButtonClick()"
        >
          Reject
        </button>
        <button
          *ngIf="isApproveBtnEnabled"
          ejs-button
          [isPrimary]="true"
          [disabled]="actionButtonDisabled"
          class="spinner-btn privilege"
          (click)="handleApprove()"
        >
          <div #spinner class="spinner-container" *ngIf="loading; else approvetext"></div>
          <ng-template #approvetext>
            <span>{{ submitText }}</span>
          </ng-template>
        </button>
      </div>
    </div>

    <div class="timesheet-table-container">
      <ag-grid-angular #grid
        *ngIf="recordsToShow"
        [columnDefs]="timesheetColDef"
        [rowData]="recordsToShow[currentTab][currentMode]"
        [context]="context"
        [rowHeight]="64"
        [modules]="modules"
        [pagination]="false"
        (gridReady)="onGridReady($event)"
        class="ag-theme-alpine app-grid__component"
        >
      </ag-grid-angular>
    </div>
  </div>
</section>

