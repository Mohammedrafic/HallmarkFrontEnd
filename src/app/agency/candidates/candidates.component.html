<app-page-toolbar>
  <ng-container left>
    <h3>Candidates</h3>
  </ng-container>
  <ng-container right>
    <div class="button-group" >
      <ejs-switch
        id="switcher"
        (change)="onSwitcher($event);"
        [checked]="true"
      ></ejs-switch>
      <label for="switcher" class="switch-text">Include Deployed Candidates</label>
      <button ejs-button appHideBeforeSyncfusionLoad cssClass="e-outline" (click)="onImport()">
        Import <span><i-feather name="upload" class="icon"></i-feather></span>
      </button>
      <button
        ejs-dropdownbutton
        appHideBeforeSyncfusionLoad
        cssClass="e-outline button-export"
        [items]="exportOptions"
        (select)="exportSelected($event)"
      >
        <div class="button-export-container">
          Export <i-feather name="download" class="icon"></i-feather>
        </div>
      </button>
      <button ejs-button appHideBeforeSyncfusionLoad id="filterButton" cssClass="e-outline button-filter" (click)="showFilters()">
        <div class="filter-button-content">
          <span *ngIf="(filteredItems$ | async) || 0 as filteredItems" class="e-badge e-badge-success e-badge-circle">{{
            filteredItems
            }}</span>
          Filters <i-feather name="sliders" class="icon"></i-feather>
        </div>
      </button>
      <button ejs-button appHideBeforeSyncfusionLoad [isPrimary]="true" (click)="navigateToCandidateForm()">Add Candidate</button>
    </div>
  </ng-container>
</app-page-toolbar>

<section>
  <app-candidate-list
    #candidateList
    [filteredItems$]="filteredItems$"
    [export$]="exportUsers$"
    [search$]="search$"
    [includeDeployedCandidates$]="includeDeployedCandidates$"
    [isAgency]="true"
  ></app-candidate-list>
</section>

<app-import-candidates [openEvent]="openImportDialog$" (reloadCandidateList)="reloadCandidatesList()"></app-import-candidates>
